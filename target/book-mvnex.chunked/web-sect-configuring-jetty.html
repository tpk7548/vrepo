<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head xmlns="http://www.w3.org/1999/xhtml">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>5.4. Configuring the Jetty Plugin</title>
    <link rel="stylesheet" type="text/css" href="docbook-xsl.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="home" href="index.html" title="Maven by Example" />
    <link rel="up" href="web.html" title="Chapter 5. A Simple Web Application" />
    <link rel="prev" href="web-sect-creating-project.html" title="5.3. Creating the Simple Web Project" />
    <link rel="next" href="web-sect-adding-simple-servlet.html" title="5.5. Adding a Simple Servlet" />
  </head>
  <body>
    <div id="nav-sub-block">
      <a class="hide" name="nav-sub-a" id="nav-sub-a"></a>
      <ul id="nav-sub">
        <li class="first">
          <a accesskey="p" href="web-sect-creating-project.html">
            <span>Prev : 5.3. Creating the Simple Web Project</span>
          </a>
        </li>
        <li>
          <a accesskey="h" href="index.html">
            <span>TOC</span>
          </a>
        </li>
        <li class="last">
          <a accesskey="n" href="web-sect-adding-simple-servlet.html">
            <span>Next : 5.5. Adding a Simple Servlet</span>
          </a>
        </li>
      </ul>
    </div>
    <div xmlns="http://www.w3.org/1999/xhtml" class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 xmlns="" class="title" style="clear: both"><a xmlns="http://www.w3.org/1999/xhtml" id="web-sect-configuring-jetty"></a>5.4. Configuring the Jetty Plugin</h2>
          </div>
        </div>
      </div>
      <p><strong>Configuring the Jetty Plugin. </strong>
</p>
      <pre class="screen">&lt;project&gt;
    [...]
    &lt;build&gt;
        &lt;finalName&gt;simple-webapp&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;</pre>
      <p>
</p>
      <p>Once you’ve configured the Maven Jetty Plugin in your project’s
<code class="literal">pom.xml</code>, you can then invoke the Run goal of the Jetty plugin to
start your web application in the Jetty Servlet container. Run <code class="literal">mvn
jetty:run</code> from the <code class="literal">simple-webapp/</code> project directory as follows:</p>
      <pre class="screen">~/examples/ch-simple-web/simple-webapp $ mvn jetty:run
...
[INFO] [jetty:run]
[INFO] Configuring Jetty for project: simple-webapp Maven Webapp
[INFO] Webapp source directory = \
~/svnw/sonatype/examples/ch-simple-web/simple-webapp/src/main/webapp
[INFO] web.xml file = \
~/svnw/sonatype/examples/ch-simple-web/\
simple-webapp/src/main/webapp/WEB-INF/web.xml
[INFO] Classes = ~/svnw/sonatype/examples/ch-simple-web/\
simple-webapp/target/classes
2007-11-17 22:11:50.532::INFO:  Logging to STDERR via org.mortbay.log.StdErrLog
[INFO] Context path = /simple-webapp
[INFO] Tmp directory =  determined at runtime
[INFO] Web defaults = org/mortbay/jetty/webapp/webdefault.xml
[INFO] Web overrides =  none
[INFO] Webapp directory = \
~/svnw/sonatype/examples/ch-simple-web/simple-webapp/src/main/webapp
[INFO] Starting jetty 6.1.6rc1 ...
2007-11-17 22:11:50.673::INFO:  jetty-6.1.6rc1
2007-11-17 22:11:50.846::INFO:  No Transaction manager found
2007-11-17 22:11:51.057::INFO:  Started SelectChannelConnector@0.0.0.0:8080
[INFO] Started Jetty Server</pre>
      <div class="warning" style="margin-left: 0; margin-right: 10%;">
        <h3 class="title">Warning</h3>
        <p>If you are running the Maven Jetty Plugin on a Windows
platform you may need to move your local Maven repository to a
directory that does not contain spaces. Some readers have reported
issues on Jetty startup caused by a repository that was being stored
under <code class="literal">C:\Documents and Settings\&lt;user&gt;</code>. The solution to this
problem is to move your local Maven repository to a directory that
does not contain spaces and redefine the location of your local
repository in <code class="literal">~/.m2/settings.xml</code>.</p>
      </div>
      <p>After Maven starts the Jetty Servlet container, load the URL
<a class="ulink" href="http://localhost:8080/simple-webapp/" target="_top">http://localhost:8080/simple-webapp/</a>
in a web browser. The simple <code class="literal">index.jsp</code> generated by the Archetype is
trivial; it contains a second-level heading with the text "Hello
World!". Maven expects the document root of the web application to be
stored in <code class="literal">src/main/webapp</code>. It is in this directory where you will
find the <code class="literal">index.jsp</code> file shown in <a class="xref" href="web-sect-configuring-jetty.html#web-example-index" title="Contents of src/main/webapp/index.jsp">Contents of src/main/webapp/index.jsp</a>.</p>
      <p><a id="web-example-index"></a><strong>Contents of src/main/webapp/index.jsp. </strong>
</p>
      <pre class="screen">&lt;html&gt;
  &lt;body&gt;
    &lt;h2&gt;Hello World!&lt;/h2&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
      <p>
</p>
      <p>In <code class="literal">src/main/webapp/WEB-INF</code>, we will find the smallest possible web
application <code class="literal">web.xml</code>, shown in this next example:</p>
      <p><strong>Contents of src/main/webapp/WEB-INF/web.xml. </strong>
</p>
      <pre class="screen">&lt;!DOCTYPE web-app PUBLIC
          "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
          "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;

&lt;web-app&gt;
    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;
&lt;/web-app&gt;</pre>
      <p>
</p>
    </div>
    <div id="nav-sub-block">
      <a class="hide" name="nav-sub-a" id="nav-sub-a"></a>
      <ul id="nav-sub">
        <li class="first">
          <a accesskey="p" href="web-sect-creating-project.html">
            <span>Prev : 5.3. Creating the Simple Web Project</span>
          </a>
        </li>
        <li>
          <a accesskey="h" href="index.html">
            <span>TOC</span>
          </a>
        </li>
        <li class="last">
          <a accesskey="n" href="web-sect-adding-simple-servlet.html">
            <span>Next : 5.5. Adding a Simple Servlet</span>
          </a>
        </li>
      </ul>
    </div>
  </body>
</html>
